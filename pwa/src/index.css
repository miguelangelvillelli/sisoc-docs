/* =========================================================
   THEME TOKENS (shadcn/ui compatible) + Poncho theme
   Strategy:
   - :root       => Light (default)
   - .dark       => Dark
   - .theme-poncho => Poncho (Gob AR)
   - .dark.theme-poncho => optional (Poncho dark variant)
   ========================================================= */

/* ------------- Fonts ------------- */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
@import url("https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&family=Montserrat:wght@400;500;600;700&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Default typography (Inter para Light y Dark) */
:root {
  --font-sans: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
  --font-serif: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
}

/* ------------- Light (default - colores originales SISOC) ------------- */
:root {
  /* Base */
  --background: 0 0% 100%;        /* #FFFFFF */
  --foreground: 215 16% 15%;      /* #212529 */

  --card: 210 17% 98%;            /* #F8F9FA */
  --card-foreground: 215 16% 15%; /* #212529 */

  --popover: 0 0% 100%;
  --popover-foreground: 215 16% 15%;

  /* Brand - Azul institucional SISOC */
  --primary: 211 100% 40%;        /* #0066CC */
  --primary-foreground: 0 0% 100%;

  --secondary: 210 17% 98%;       /* #F8F9FA */
  --secondary-foreground: 215 16% 15%;

  --muted: 210 17% 98%;           /* #F8F9FA */
  --muted-foreground: 215 10% 42%; /* #6C757D */

  --accent: 158 61% 35%;          /* #00A86B */
  --accent-foreground: 0 0% 100%;

  --destructive: 354 70% 54%;     /* #DC3545 */
  --destructive-foreground: 0 0% 100%;

  --border: 214 19% 89%;          /* #DEE2E6 */
  --input: 214 19% 89%;           /* #DEE2E6 */
  --ring: 211 100% 40%;           /* #0066CC */

  --radius: 1rem;
}

/* ------------- Dark (colores originales SISOC) ------------- */
.dark {
  --background: 0 0% 10%;         /* #1A1A1A */
  --foreground: 0 0% 100%;        /* #FFFFFF */

  --card: 0 0% 18%;               /* #2D2D2D */
  --card-foreground: 0 0% 100%;

  --popover: 0 0% 18%;
  --popover-foreground: 0 0% 100%;

  --primary: 211 100% 64%;        /* #4A9EFF - más claro para dark */
  --primary-foreground: 0 0% 10%;

  --secondary: 0 0% 18%;          /* #2D2D2D */
  --secondary-foreground: 0 0% 100%;

  --muted: 0 0% 18%;              /* #2D2D2D */
  --muted-foreground: 0 0% 69%;   /* #B0B0B0 */

  --accent: 162 100% 41%;         /* #00D084 - acento verde más brillante */
  --accent-foreground: 0 0% 10%;

  --destructive: 4 90% 58%;       /* #F44336 */
  --destructive-foreground: 0 0% 100%;

  --border: 0 0% 25%;             /* #404040 */
  --input: 0 0% 25%;              /* #404040 */
  --ring: 211 100% 64%;           /* #4A9EFF */
}

/* ------------- Poncho (Gob AR) ------------- */
/* Tokens basados en Argentina.gob.ar:
   - Primario: Azul Argentina #0072BB
   - Secundarios: Verde #2E7D32 / Amarillo #F9A825 / Rojo #C62828 / Celeste #039BE5
   - Grises: texto #333333 / fondo #F5F5F5
*/
.theme-poncho {
  /* Typography override */
  --font-sans: Montserrat, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
  --font-serif: Lora, ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;

  /* Base */
  --background: 0 0% 96%;     /* #F5F5F5 */
  --foreground: 0 0% 20%;     /* #333333 */

  --card: 0 0% 100%;
  --card-foreground: 0 0% 20%;

  --popover: 0 0% 100%;
  --popover-foreground: 0 0% 20%;

  /* Brand */
  --primary: 203 100% 37%; /* #0072BB */
  --primary-foreground: 0 0% 100%;

  /* Use "celeste info" as accent */
  --accent: 199 98% 45%; /* #039BE5 */
  --accent-foreground: 0 0% 100%;

  /* Secondary surfaces */
  --secondary: 0 0% 100%;
  --secondary-foreground: 0 0% 20%;

  --muted: 0 0% 96%;
  --muted-foreground: 0 0% 40%;

  /* Semantic colors (map your UI states to these) */
  --success: 123 46% 33%; /* #2E7D32 */
  --warning: 40 95% 56%;  /* #F9A825 */
  --danger: 0 67% 47%;    /* #C62828 */
  --info: 199 98% 45%;    /* #039BE5 */

  /* shadcn destructive uses --destructive */
  --destructive: 0 67% 47%; /* #C62828 */
  --destructive-foreground: 0 0% 100%;

  --border: 0 0% 86%;
  --input: 0 0% 86%;
  --ring: 203 100% 37%;

  --radius: 1rem;
}

/* Optional: Poncho dark variant */
.dark.theme-poncho {
  --background: 222 22% 10%;
  --foreground: 0 0% 98%;

  --card: 222 22% 12%;
  --card-foreground: 0 0% 98%;

  --primary: 203 100% 45%;
  --primary-foreground: 222 22% 10%;

  --accent: 199 98% 55%;
  --accent-foreground: 222 22% 10%;

  --border: 222 16% 20%;
  --input: 222 16% 20%;
  --ring: 203 100% 45%;
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground antialiased;
    font-family: var(--font-sans);
  }
}

/* ========================================
   Leaflet Map Theming
   ======================================== */

/* Light theme (default) */
:root .themed-map {
  filter: none;
}

:root .themed-map .leaflet-tile-pane {
  filter: brightness(1) contrast(1);
}

:root .themed-map .leaflet-popup-content-wrapper {
  background-color: hsl(var(--card));
  color: hsl(var(--card-foreground));
  border: 1px solid hsl(var(--border));
}

:root .themed-map .leaflet-popup-tip {
  background-color: hsl(var(--card));
  border: 1px solid hsl(var(--border));
}

/* Dark theme */
.dark .themed-map .leaflet-tile-pane {
  filter: brightness(0.7) invert(1) contrast(1.2) hue-rotate(180deg) saturate(0.8);
}

.dark .themed-map .leaflet-popup-content-wrapper {
  background-color: hsl(var(--card));
  color: hsl(var(--card-foreground));
  border: 1px solid hsl(var(--border));
}

.dark .themed-map .leaflet-popup-tip {
  background-color: hsl(var(--card));
  border: 1px solid hsl(var(--border));
}

.dark .themed-map .leaflet-control-zoom a {
  background-color: hsl(var(--card));
  color: hsl(var(--card-foreground));
  border-color: hsl(var(--border));
}

.dark .themed-map .leaflet-control-zoom a:hover {
  background-color: hsl(var(--accent));
}

/* Poncho theme */
.theme-poncho .themed-map .leaflet-tile-pane {
  filter: none;
}

.theme-poncho .themed-map .leaflet-popup-content-wrapper {
  background-color: hsl(var(--card));
  color: hsl(var(--card-foreground));
  border: 1px solid hsl(var(--border));
}

.theme-poncho .themed-map .leaflet-popup-tip {
  background-color: hsl(var(--card));
  border: 1px solid hsl(var(--border));
}

.theme-poncho .themed-map .leaflet-control-zoom a {
  background-color: hsl(var(--card));
  color: hsl(var(--primary));
  border-color: hsl(var(--border));
}
